WEBVTT
Kind: captions
Language: zh-CN

00:00:00.270 --> 00:00:03.700
当你有两个长度相同的 NumPy 数组时

00:00:03.700 --> 00:00:05.120
你还可以进行另一种计算

00:00:05.120 --> 00:00:08.710
这一次 第二个 NumPy 数组需含有布尔值

00:00:08.710 --> 00:00:11.190
而第一个数组可包含任何类型的数据 不仅仅是数字

00:00:12.270 --> 00:00:16.630
例如 假设你的第一个数组 a

00:00:16.630 --> 00:00:19.280
包含数字 1, 2, 3, 4 和 5

00:00:19.280 --> 00:00:23.500
你的第二个数组 b

00:00:23.500 --> 00:00:25.050
包含布尔值 False, False, True, True 和 True

00:00:25.050 --> 00:00:29.550
那么 代码 a[b] 将返回一个

00:00:29.550 --> 00:00:33.610
仅包含元素 3, 4 和 5 的较短数组

00:00:33.610 --> 00:00:36.630
第二个数组被称作索引数组

00:00:36.630 --> 00:00:39.550
它告诉你应保留第一个数组的哪些元素

00:00:39.550 --> 00:00:43.400
在这里 我们没有保留 1 因为这一项是假值

00:00:43.400 --> 00:00:45.530
我们没有保留 2 因为它是假值

00:00:45.530 --> 00:00:49.480
但我们保留了 3, 4 和 5 因为它们是真值

00:00:49.480 --> 00:00:52.440
当你把它与之前的向量运算相结合后

00:00:52.440 --> 00:00:54.410
它的用处是很大的

00:00:55.450 --> 00:00:58.425
在这个例子中 我保留了大于 2 的所有值

00:00:58.425 --> 00:01:06.395
所以 我也可以用代码 b = a &gt; 2 来创建布尔数组 b

00:01:06.395 --> 00:01:09.770
我也可以在完全不使用变量 b 的情况下创建这个数组

00:01:10.940 --> 00:01:18.950
我可以利用代码 a[a&gt;2] 它的结果是一样的

00:01:18.950 --> 00:01:21.600
我认为这个简短的代码要表达的意思就是

00:01:21.600 --> 00:01:25.830
保留 a 数组中大于2的所有元素

00:01:25.830 --> 00:01:29.170
现在理解这个代码

00:01:29.170 --> 00:01:31.590
可能比理解遍历还要难

00:01:31.590 --> 00:01:33.840
首先 你要记住 a 是一个数组

00:01:33.840 --> 00:01:37.040
此外 你要记住 将数组与一个数字相比较

00:01:37.040 --> 00:01:40.280
就是返回布尔数组的向量运算

00:01:40.280 --> 00:01:42.740
然后 你要记住索引数组的相关知识

00:01:42.740 --> 00:01:45.610
在你熟悉这个运算之后

00:01:45.610 --> 00:01:46.850
它可以大大提高你编写代码的速度

00:01:46.850 --> 00:01:50.664
由于所有的运算都使用 C 语言

00:01:50.664 --> 00:01:51.787
这个代码的运算速度比遍历快

00:01:51.787 --> 00:01:55.137
为了让你用索引数组进行一些练习

00:01:55.137 --> 00:01:56.645
我要用上节课的代码来举例

00:01:56.645 --> 00:01:59.785
我需要你编写一个函数 该函数需传入两个数组

00:01:59.785 --> 00:02:02.575
第一个 time_spent 包含

00:02:02.575 --> 00:02:04.763
各学生第一周上课的总时间

00:02:04.763 --> 00:02:07.795
第二个 days_to_cancel 包含

00:02:07.795 --> 00:02:11.065
学生注销前的天数 (即注册天数)

00:02:11.065 --> 00:02:14.105
我需要你计算注册天数大于 7 的学生

00:02:14.105 --> 00:02:18.190
第一周内上课的平均时间

00:02:18.190 --> 00:02:21.990
我给你一个提示 你要先将 days_to_cancel

00:02:21.990 --> 00:02:24.050
转换成可以用作索引数组的布尔数组

