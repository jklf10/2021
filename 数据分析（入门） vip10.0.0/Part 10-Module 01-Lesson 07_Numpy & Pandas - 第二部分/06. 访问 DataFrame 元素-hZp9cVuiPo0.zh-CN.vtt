WEBVTT
Kind: captions
Language: zh-CN

00:00:00.220 --> 00:00:03.860
DataFrame创建后 如何获取里面的元素？

00:00:03.860 --> 00:00:06.780
我将利用此前的客流量数据作为示例

00:00:06.780 --> 00:00:09.160
将车站名作为列名

00:00:10.220 --> 00:00:14.830
我还会利用索引参数 将日期添加为行索引值

00:00:14.830 --> 00:00:18.250
我们可以看到 iPython notebook 将DataFrame

00:00:18.250 --> 00:00:20.540
以适当的列名称和行索引显示为表格

00:00:21.580 --> 00:00:24.200
获取DataFrame的某一行类似于

00:00:24.200 --> 00:00:26.128
获取一组数中的某一元素

00:00:26.128 --> 00:00:30.120
你可以利用 .loc 按照索引来获取相应的一行

00:00:30.120 --> 00:00:32.970
这个代码返回了DataFrame的第二行

00:00:34.060 --> 00:00:37.930
同样地 你也可以利用 iloc 按照位置来获取行

00:00:37.930 --> 00:00:40.110
这个代码返回了DataFrame的最后一行

00:00:41.180 --> 00:00:44.710
你还可以利用 loc 和 iloc 来获取某一个元素

00:00:44.710 --> 00:00:47.040
但它同时表示行和列

00:00:48.050 --> 00:00:54.030
比如 iloc[0, 3] 就是第0行和第3列的元素

00:00:54.030 --> 00:00:58.390
同样的道理 我可以用 .loc 指定一个日期和单元

00:00:58.390 --> 00:01:00.640
并得到相应的值

00:01:01.860 --> 00:01:04.800
你可以用中括号来获取列

00:01:04.800 --> 00:01:07.320
这个代码会给出 R006 单元的列

00:01:07.320 --> 00:01:11.980
你可以看到这一列的开始部分

00:01:11.980 --> 00:01:15.030
如果你觉得有些跟不上 别担心

00:01:15.030 --> 00:01:18.560
相关内容均可在下载区的备忘录中找到

00:01:18.560 --> 00:01:23.010
你还可以利用 .values 得到

00:01:23.010 --> 00:01:26.030
不含列名称或行索引 仅含有DataFrame中值的 NumPy 二维数组

00:01:27.040 --> 00:01:30.700
当然 在这种情况下 你需要注意数据的类型

00:01:30.700 --> 00:01:33.550
你这样做可能是希望计算所有值的平均值

00:01:33.550 --> 00:01:37.190
而不仅仅是每一行或每一列的平均值

00:01:37.190 --> 00:01:40.150
Pandas DataFrame并不支持这一做法

00:01:40.150 --> 00:01:44.500
但你可以在 NumPy 数组上利用 .values 调用 .mean

00:01:44.500 --> 00:01:48.190
在下一个屏幕中 你将有机会使用DataFrame

00:01:48.190 --> 00:01:51.450
我还希望大家能做一些练习

00:01:51.450 --> 00:01:55.040
利用DataFrame重新编写你们此前写出的函数

00:01:55.040 --> 00:01:58.580
你可以直接调用 .values

00:01:58.580 --> 00:01:59.826
然后重复使用你们针对 NumPy 数组编写的代码

00:01:59.826 --> 00:02:02.980
但我建议大家弄清楚 在此前使用的方法中

00:02:02.980 --> 00:02:06.630
哪些仍适用于DataFrame 哪些需要调用 .values

