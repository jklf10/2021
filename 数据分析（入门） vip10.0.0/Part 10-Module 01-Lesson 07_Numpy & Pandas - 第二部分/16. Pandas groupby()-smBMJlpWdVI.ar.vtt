WEBVTT
Kind: captions
Language: ar

00:00:00.500 --> 00:00:03.060
لدي كثير من الأسئلة بشأن
مجموعة بيانات قطار الأنفاق

00:00:03.060 --> 00:00:04.470
.التي تشترك في شيء ما

00:00:04.470 --> 00:00:08.590
على سبيل المثال، أرغب في معرفة
.كيفية تباين الركاب حسب الساعة من اليوم

00:00:08.590 --> 00:00:11.060
ولكن يحتوي الملف

00:00:11.060 --> 00:00:14.890
على إدخالات عديدة
.لكل ساعة من اليوم من أيام ومحطات مختلفة

00:00:14.890 --> 00:00:19.560
ولهذا، سأحتاج أولاً إلى فصل البيانات
،إلى مجموعة واحدة لكل ساعة من اليوم

00:00:19.560 --> 00:00:25.040
ثم استخراج قيمة متوسط عدد الركاب لكل ساعة
.ثم يمكنني تحليل هذه النتائج إلى أرقام

00:00:25.040 --> 00:00:29.000
وبالمثل، أريد أن أنظر إلى ما إذا كان هطول الأمطار سيؤثر
.على معدل ركاب قطار الأنفاق

00:00:29.000 --> 00:00:31.690
قد يتمثل أحد الاحتمالات في
،فصل البيانات إلى مجموعتين

00:00:31.690 --> 00:00:34.420
بيانات مجمعة أثناء هطول الأمطار
،وبيانات مجمعة أثناء توقف هطول الأمطار

00:00:34.420 --> 00:00:36.995
ثم سأقارن عدد الركاب
.بين المجموعتين

00:00:36.995 --> 00:00:40.215
وأكرر، هناك خطوة تصنيف متبوعة بخطوة تجميع
حيث أجمع جميع الإدخالات

00:00:40.215 --> 00:00:42.925
في كل
مجموعة أو أستخرج

00:00:42.925 --> 00:00:44.895
متوسط الإدخالات
.في كل مجموعة

00:00:46.035 --> 00:00:48.705
كما أنني عبرت عن اهتمامي
بكيفية اختلاف عدد الركاب حسب اليوم من الأسبوع

00:00:48.705 --> 00:00:49.655
وأكرر أنني ،

00:00:49.655 --> 00:00:53.225
قد أحتاج إلى تجميع البيانات حسب اليوم من الأسبوع
.ثم تجميع البيانات لكل يوم

00:00:53.225 --> 00:00:56.335
وقد يذكرك هذا بالتعليمة البرمجية
الخاصة بالدرس الأول حيث قمتَ بتصنيف البيانات

00:00:56.335 --> 00:01:00.155
حسب مفتاح الحساب ثم أضفتَ
.سجلات المشاركة لكل مفتاح حساب

00:01:01.400 --> 00:01:04.715
في الدرس الأول اخترت إكمال الخطوة الأولى
باستخدام دالة تُسمى

00:01:04.715 --> 00:01:09.800
group_data، وإكمال الخطوة الثانية بدالة تُسمى
.sum_grouped_items

00:01:09.800 --> 00:01:13.610
وتتميز Pandas بدوال مدمجة مشابهة
تسمح بإجراء هذا النوع من التحليل

00:01:13.610 --> 00:01:15.630
.باستخدام تعليمات برمجية أقل

00:01:15.630 --> 00:01:17.710
،فلنلقِ نظرة على مثال ملموس

00:01:17.710 --> 00:01:21.860
افترض أنه كان لدي بيانات مشاركة
.لكل طالب في إطار بيانات Pandas

00:01:21.860 --> 00:01:24.913
لقد أنشأتُ إطار بيانات صغيرًا
.هنا لاستخدامه كمثال

00:01:24.913 --> 00:01:27.730
وبعد ذلك قد تكون التعليمة البرمجية التي كتبتها
للحصول على متوسط عدد الدقائق المستغرقة في

00:01:27.730 --> 00:01:30.413
حجرة الدراسة
هي engagement_df.groupyby

00:01:30.413 --> 00:01:35.000
-'account_key').sum()['total_minutes_vi)
.( )sited'].mean

00:01:35.000 --> 00:01:37.918
ولنتناول الآن كل خطوة ينفذها كل
.جزء من هذه التعليمة البرمجية في المرة

00:01:37.918 --> 00:01:41.610
أولاً، يؤدي استدعاء الدالة
engagement_df.groupby('account_key') إلى إنشاء

00:01:41.610 --> 00:01:46.090
نوع خاص من الكائنات
.يُسمى DataFrameGroupBy

00:01:46.090 --> 00:01:49.500
وأنا أنظر إلى هذا النوع من البيانات باعتباره قاموسًا
يُخطط كل مفتاح حساب إلى

00:01:49.500 --> 00:01:52.830
إطار بيانات أصغر يحتوي على الصفوف
.التي تطابق مفتاح الحساب هذا فقط

00:01:52.830 --> 00:01:56.760
وعلى الرغم من ذلك، فإن إطار البيانات هذا يمثل الكائن المخصص
.وليس قاموسًا

00:01:56.760 --> 00:02:00.720
،ويمكنك إلقاء نظرة، حسب الرغبة
.على التخطيط باستخدام السمة .groups

00:02:00.720 --> 00:02:05.140
وهذا يوضح أن مفتاح الحساب 1175 يوافق
من الصف 7 وحتى الصف 13

00:02:05.140 --> 00:02:07.150
.من إطار البيانات الأصلي

00:02:07.150 --> 00:02:10.320
بينما يوافق المفتاح 1200
.الصفوف من 0 إلى 6

00:02:10.320 --> 00:02:15.700
وليس من الضروري في الأحوال المعتادة أن يتم إجراء فحص مباشر
،للمجموعات الكامنة مثل هذه

00:02:15.700 --> 00:02:19.120
ولكن أحيانًا، قد يكون هذا مفيدًا
.للتعرف على ما يجري

00:02:19.120 --> 00:02:22.190
وبعد ذلك، سأستخدم الدالة .sum
بالمجموعة حسب الكائن

00:02:22.190 --> 00:02:24.950
.لإضافة كل عمود في كل مجموعة

00:02:24.950 --> 00:02:28.720
ويمكنك أن ترى أن هذا أدى إلى استنتاج
أن إجمالي عدد الدقائق التي استغرقتها الزيارات بها

00:02:28.720 --> 00:02:30.830
.لمفتاح الحساب 1175 كان 2.7

00:02:30.830 --> 00:02:35.001
وكان إجمالي عدد الدقائق لمفتاح الحساب 1200
.هو 696.6

00:02:35.001 --> 00:02:38.276
لاحظ أن عمود التاريخ غير مضمن
في هذا الإخراج لأنه

00:02:38.276 --> 00:02:40.700
من غير المحتمل استخراج مجموع
.لمجموعة من التواريخ

00:02:40.700 --> 00:02:43.120
ولكن، إذا كانت هناك أعمدة رقمية أخرى
،في إطار البيانات

00:02:43.120 --> 00:02:44.290
.فقد تُضمن هنا

00:02:45.530 --> 00:02:49.910
،والآن عندما أُضيف total_minutes_visited
،أستعيد نفس البيانات هذه المرة

00:02:49.910 --> 00:02:51.860
.فهي في متسلسلة Panda

00:02:51.860 --> 00:02:55.180
لاحظت من قبل أن هذا كان في
،إطار بيانات به عمود واحد

00:02:55.180 --> 00:02:58.930
وهو ما يمكنك تفسيره بسبب اعتباره
.كجدول في دفتر ملاحظات iPython

00:02:58.930 --> 00:03:02.362
،وأكرر، إذا كان هناك المزيد من الأعمدة الرقمية
فقد تظهر هذه الأعمدة في إطار

00:03:02.362 --> 00:03:06.280
البيانات هذا، ولكن هذه المتسلسلة لن تحتوي إلا على
.عمود إجمالي الدقائق التي استغرقتها الزيارات

00:03:06.280 --> 00:03:10.584
والآن، نظرًا لأنني أريد استخراج
.المتوسط عبر جميع الطلاب، سأُضيف .mean

00:03:10.584 --> 00:03:15.570
وبهذا سأحصل على رقم فردي، حوالي
.350دقيقة لهذين الطالبين

00:03:15.570 --> 00:03:19.050
،أو ربما أفضل من هذا
.يمكنني استخدام الدالة describe

00:03:19.050 --> 00:03:21.400
وبعد ذلك، سأحصل على مجموعة من القياسات
تشمل المتوسط

00:03:21.400 --> 00:03:24.770
والانحراف المعياري
.والحدين الأدنى والأقصى

00:03:24.770 --> 00:03:28.190
والآن، أشعر بالحيرة الشديدة بسبب هذا الجزء من التعليمة البرمجية
التي اكتشفتها عندما علمت لأول مرة

00:03:28.190 --> 00:03:31.190
.أن groupby كانت هي دالة الجمع

00:03:31.190 --> 00:03:34.820
،لقد رأيت دالة الجمع قبل ذلك
.لكنه كان لإطارات البيانات

00:03:34.820 --> 00:03:36.670
.وهذا كائن groupby

00:03:36.670 --> 00:03:40.440
ولهذا السبب، تساءلتُ عن الدوال الأخرى التي تتضمنها كائنات
. groupby

00:03:40.440 --> 00:03:43.030
ما الحل إذا لم توجد دالة
تنفذُّ ما تريدُه؟

00:03:43.030 --> 00:03:44.520
حسنًا، على غرار المتسلسلات وإطارات

00:03:44.520 --> 00:03:48.690
البيانات، تتميز كائنات groupby بالكثير
من الدوال السهلة المدمجة

00:03:48.690 --> 00:03:52.520
،وإذا كانت الدالة التي تريدها غير مدمجة
.فيمكنك استخدام apply وكتابة دالة خاصة بك

00:03:52.520 --> 00:03:53.810
،في التمرين التالي

00:03:53.810 --> 00:03:56.790
أرغب في تصنيف بيانات قطار الأنفاق
،حسب متغير تختاره أنت

00:03:56.790 --> 00:04:00.600
ربما يكون يومًا من الأسبوع أو ساعة من اليوم
.أو حالة هطول الأمطار

00:04:00.600 --> 00:04:04.110
ثم ابحث عن متوسط ركاب قطار الأنفاق
لكل قيمة مختلفة وتقديم رسم

00:04:04.110 --> 00:04:06.020
يظهر النتائج أو
يطبع

00:04:06.020 --> 00:04:08.260
الأرقام
.إذا كان ذلك أكثر منطقية

